{
    "name": "Automation Gate",
    "description": "Controls message flow between automatic and manual modes",
    "field": {
        "startupState": {
            "label": "Open on startup",
            "description": "Opens the gate when the flow starts"
        },
        "autoReplay": {
            "label": "Auto replay on unpause",
            "description": "Resends the last message when the gate reopens"
        },
        "stateOpenLabel": {
            "label": "Open label",
            "description": "Display text for the open state",
            "default": "Automatic"
        },
        "stateClosedLabel": {
            "label": "Closed label",
            "description": "Display text for the closed state",
            "default": "Manual"
        },
        "setAutomationInProgress": {
            "label": "Set automation in progress",
            "description": "Sets a context value indicating that automation is active"
        },
        "automationProgressId": {
            "label": "Automation progress identifier",
            "description": "Unique identifier for automation status"
        }
    },
    "output": {
        "message": {
            "name": "Message",
            "description": "Message when gate is open"
        }
    },
    "help": {
        "description": "Controls message flow between automatic and manual modes. The gate can be opened, closed, or paused to control whether messages pass through.",
        "inputs": {
            "payload": {
                "name": "payload",
                "description": "The message to pass through when the gate is open"
            },
            "gate": {
                "name": "gate",
                "description": "Control command: 'pause', 'stop', 'start', 'replay', or 'resetFilter'"
            },
            "pause": {
                "name": "pause",
                "description": "Duration in milliseconds to pause the gate (used with 'pause' command)"
            }
        },
        "outputs": {
            "payload": {
                "name": "payload",
                "description": "The original message payload when the gate is open"
            }
        },
        "details": [
            {
                "text": "When the gate is open (Automatic mode), messages pass through. When closed (Manual mode), messages are blocked."
            },
            {
                "text": "Send msg.gate='pause' with optional msg.pause (milliseconds) to temporarily pause the gate."
            },
            {
                "text": "Send msg.gate='stop' to close the gate, or msg.gate='start' to open it."
            },
            {
                "text": "Use msg.gate='replay' to resend the last message, or msg.gate='resetFilter' to clear the duplicate payload filter."
            },
            {
                "text": "The node displays the current state using the configured open/closed labels (default: Automatic/Manual)."
            }
        ]
    }
}